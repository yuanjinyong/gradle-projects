/*
 * This settings file was auto generated by the Gradle buildInit task
 * by 'Yuanjy' at '15-2-7 上午1:12' with Gradle 2.2.1
 *
 * The settings file is used to specify which projects to include in your build.
 * In a single project build this file can be empty or even removed.
 *
 * Detailed information about configuring a multi-project build in Gradle can be found
 * in the user guide at http://gradle.org/docs/2.2.1/userguide/multi_project_builds.html
 */


// To declare projects as part of a multi-project build use the 'include' method
// Begin of include
include 'gui:gui-core'
include 'archetype:archetype-core'
include 'archetype:archetype-plugin'
include 'archetype:archetypes:archetype-archetype'
include 'archetype:archetypes:java-archetype'
// End of include


settingProjects(rootProject)
//设置工程的构建脚本名称和工程同名
def settingProjects(parentProject) {
    parentProject.children.each { project ->
        if (project.children) {
            settingProjects(project)
        } else {
            String projectRelativePath = project.path.replaceAll(':', '/').substring(1)

            project.projectDir = new File(settingsDir, "subprojects/${projectRelativePath}")
            project.buildFileName = "${project.name}.gradle"

            assert project.projectDir.isDirectory()
            assert project.buildFile.isFile()
        }
    }
}
